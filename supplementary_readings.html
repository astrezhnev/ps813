<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>supplementary_readings – PoliSci 813</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-46c91985700bec4daaf9c2082c56a9fb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-6.7.2/all.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-6.7.2/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">PoliSci 813</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./staff.html"> 
<span class="menu-text">Staff</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./assignments.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://edstem.org/us/courses/93768/"> 
<span class="menu-text">Ed</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.gradescope.com/courses/1223529"> 
<span class="menu-text">Gradescope</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/astrezhnev/ps813"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#supplementary-readings-for-ps-813-causal-inference" id="toc-supplementary-readings-for-ps-813-causal-inference" class="nav-link active" data-scroll-target="#supplementary-readings-for-ps-813-causal-inference">Supplementary Readings for PS 813: Causal Inference</a>
  <ul class="collapse">
  <li><a href="#week-1-statistical-review-estimands" id="toc-week-1-statistical-review-estimands" class="nav-link" data-scroll-target="#week-1-statistical-review-estimands">Week 1: Statistical Review / Estimands</a>
  <ul class="collapse">
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a></li>
  <li><a href="#applications-political-science" id="toc-applications-political-science" class="nav-link" data-scroll-target="#applications-political-science">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#week-2-potential-outcomes-randomized-experiments" id="toc-week-2-potential-outcomes-randomized-experiments" class="nav-link" data-scroll-target="#week-2-potential-outcomes-randomized-experiments">Week 2: Potential Outcomes + Randomized Experiments</a>
  <ul class="collapse">
  <li><a href="#methodology-1" id="toc-methodology-1" class="nav-link" data-scroll-target="#methodology-1">Methodology</a></li>
  <li><a href="#applications-political-science-1" id="toc-applications-political-science-1" class="nav-link" data-scroll-target="#applications-political-science-1">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#week-3-experiments---covariates-and-statistical-power" id="toc-week-3-experiments---covariates-and-statistical-power" class="nav-link" data-scroll-target="#week-3-experiments---covariates-and-statistical-power">Week 3: Experiments - Covariates and Statistical Power</a>
  <ul class="collapse">
  <li><a href="#methodology-2" id="toc-methodology-2" class="nav-link" data-scroll-target="#methodology-2">Methodology</a></li>
  <li><a href="#applications-political-science-2" id="toc-applications-political-science-2" class="nav-link" data-scroll-target="#applications-political-science-2">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#week-4-experiments---attrition-and-non-compliance" id="toc-week-4-experiments---attrition-and-non-compliance" class="nav-link" data-scroll-target="#week-4-experiments---attrition-and-non-compliance">Week 4: Experiments - Attrition and Non-Compliance</a>
  <ul class="collapse">
  <li><a href="#methodology-3" id="toc-methodology-3" class="nav-link" data-scroll-target="#methodology-3">Methodology</a></li>
  <li><a href="#applications-political-science-3" id="toc-applications-political-science-3" class="nav-link" data-scroll-target="#applications-political-science-3">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#weeks-5-7-selection-on-observables-propensity-scores-matching" id="toc-weeks-5-7-selection-on-observables-propensity-scores-matching" class="nav-link" data-scroll-target="#weeks-5-7-selection-on-observables-propensity-scores-matching">Weeks 5-7: Selection-on-Observables / Propensity Scores / Matching</a>
  <ul class="collapse">
  <li><a href="#methodology-4" id="toc-methodology-4" class="nav-link" data-scroll-target="#methodology-4">Methodology</a></li>
  <li><a href="#applications-political-science-4" id="toc-applications-political-science-4" class="nav-link" data-scroll-target="#applications-political-science-4">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#week-8-instrumental-variables" id="toc-week-8-instrumental-variables" class="nav-link" data-scroll-target="#week-8-instrumental-variables">Week 8: Instrumental Variables</a>
  <ul class="collapse">
  <li><a href="#methodology-5" id="toc-methodology-5" class="nav-link" data-scroll-target="#methodology-5">Methodology</a></li>
  <li><a href="#applications-political-science-5" id="toc-applications-political-science-5" class="nav-link" data-scroll-target="#applications-political-science-5">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#weeks-9-11-differences-in-differences-and-panel-data" id="toc-weeks-9-11-differences-in-differences-and-panel-data" class="nav-link" data-scroll-target="#weeks-9-11-differences-in-differences-and-panel-data">Weeks 9-11: Differences-in-Differences and Panel Data</a>
  <ul class="collapse">
  <li><a href="#methodology-6" id="toc-methodology-6" class="nav-link" data-scroll-target="#methodology-6">Methodology</a></li>
  <li><a href="#applications-political-science-6" id="toc-applications-political-science-6" class="nav-link" data-scroll-target="#applications-political-science-6">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#week-12-regression-discontinuity-designs" id="toc-week-12-regression-discontinuity-designs" class="nav-link" data-scroll-target="#week-12-regression-discontinuity-designs">Week 12: Regression Discontinuity Designs</a>
  <ul class="collapse">
  <li><a href="#methodology-7" id="toc-methodology-7" class="nav-link" data-scroll-target="#methodology-7">Methodology</a></li>
  <li><a href="#applications-political-science-7" id="toc-applications-political-science-7" class="nav-link" data-scroll-target="#applications-political-science-7">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#week-13-mediation-and-sensitivity-analysis" id="toc-week-13-mediation-and-sensitivity-analysis" class="nav-link" data-scroll-target="#week-13-mediation-and-sensitivity-analysis">Week 13: Mediation and Sensitivity Analysis</a>
  <ul class="collapse">
  <li><a href="#methodology-mediation" id="toc-methodology-mediation" class="nav-link" data-scroll-target="#methodology-mediation">Methodology (Mediation)</a></li>
  <li><a href="#methodology-sensitivity-analysis" id="toc-methodology-sensitivity-analysis" class="nav-link" data-scroll-target="#methodology-sensitivity-analysis">Methodology (Sensitivity Analysis)</a></li>
  <li><a href="#applications-political-science-8" id="toc-applications-political-science-8" class="nav-link" data-scroll-target="#applications-political-science-8">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#week-14-shift-share-designs-and-experiments-with-interference" id="toc-week-14-shift-share-designs-and-experiments-with-interference" class="nav-link" data-scroll-target="#week-14-shift-share-designs-and-experiments-with-interference">Week 14: Shift-Share Designs and Experiments with Interference</a>
  <ul class="collapse">
  <li><a href="#methodology-shift-sharebartik-instruments" id="toc-methodology-shift-sharebartik-instruments" class="nav-link" data-scroll-target="#methodology-shift-sharebartik-instruments">Methodology (Shift-Share/Bartik Instruments)</a></li>
  <li><a href="#methodology-interferencespillovers" id="toc-methodology-interferencespillovers" class="nav-link" data-scroll-target="#methodology-interferencespillovers">Methodology (Interference/Spillovers)</a></li>
  <li><a href="#applications-political-science-9" id="toc-applications-political-science-9" class="nav-link" data-scroll-target="#applications-political-science-9">Applications (Political Science)</a></li>
  </ul></li>
  <li><a href="#additional-cross-cutting-resources" id="toc-additional-cross-cutting-resources" class="nav-link" data-scroll-target="#additional-cross-cutting-resources">Additional Cross-Cutting Resources</a>
  <ul class="collapse">
  <li><a href="#textbooks-and-general-references" id="toc-textbooks-and-general-references" class="nav-link" data-scroll-target="#textbooks-and-general-references">Textbooks and General References</a></li>
  <li><a href="#software-and-replication" id="toc-software-and-replication" class="nav-link" data-scroll-target="#software-and-replication">Software and Replication</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="supplementary-readings-for-ps-813-causal-inference" class="level1">
<h1>Supplementary Readings for PS 813: Causal Inference</h1>
<p>This document contains recent methodology papers and political science applications that supplement the main course readings. For methodology, papers from economics, statistics, and sociology are included. For applications, the focus is on political science research.</p>
<hr>
<section id="week-1-statistical-review-estimands" class="level2">
<h2 class="anchored" data-anchor-id="week-1-statistical-review-estimands">Week 1: Statistical Review / Estimands</h2>
<section id="methodology" class="level3">
<h3 class="anchored" data-anchor-id="methodology">Methodology</h3>
<ul>
<li><strong>Bai, Yuehao, Azeem M. Shaikh, and Max Tabord-Meehan.</strong> “A Primer on the Analysis of Randomized Experiments and a Survey of Some Recent Advances.” <em>Journal of Political Economy Microeconomics</em> (2024). [Revised April 2025]
<ul>
<li>Comprehensive survey covering randomization inference, covariate adjustment, stratification, and recent advances in experimental analysis.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science">Applications (Political Science)</h3>
<ul>
<li>The Lundberg, Johnson, and Stewart (2021) “What is your estimand?” paper already in your syllabus remains the key recent reference for this topic in social science.</li>
</ul>
<hr>
</section>
</section>
<section id="week-2-potential-outcomes-randomized-experiments" class="level2">
<h2 class="anchored" data-anchor-id="week-2-potential-outcomes-randomized-experiments">Week 2: Potential Outcomes + Randomized Experiments</h2>
<section id="methodology-1" class="level3">
<h3 class="anchored" data-anchor-id="methodology-1">Methodology</h3>
<ul>
<li><strong>Broockman, David E., Elizabeth Rhodes, Alexander W. Bartik, et al.</strong> “The Causal Effects of Income on Political Attitudes and Behavior: A Randomized Field Experiment.” NBER Working Paper 33214 (2024).
<ul>
<li>Novel field experiment providing experimental evidence on income effects.</li>
</ul></li>
<li><strong>Athey, Susan, and Guido W. Imbens.</strong> Methods for analyzing heterogeneous treatment effects and machine learning for causal inference. Multiple papers 2023-2024.
<ul>
<li>Advances in estimating treatment effect heterogeneity using random forests and other ML methods.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science-1" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-1">Applications (Political Science)</h3>
<ul>
<li><strong>Fukumoto, Kentaro.</strong> “What if neither randomized control trials nor public voting records are available in a get-out-the-vote field experiment?” <em>Research &amp; Politics</em> (2023).
<ul>
<li>Innovative GOTV study in Japan using RDD when RCT not possible.</li>
</ul></li>
<li><strong>Testing theories of political persuasion using AI.</strong> <em>PNAS</em> (2024).
<ul>
<li>Uses LLMs to test persuasion theories in field experiments on immigration and education.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="week-3-experiments---covariates-and-statistical-power" class="level2">
<h2 class="anchored" data-anchor-id="week-3-experiments---covariates-and-statistical-power">Week 3: Experiments - Covariates and Statistical Power</h2>
<section id="methodology-2" class="level3">
<h3 class="anchored" data-anchor-id="methodology-2">Methodology</h3>
<ul>
<li><p><strong>Lin, Winston.</strong> “Agnostic notes on regression adjustments to experimental data: Reexamining Freedman’s critique.” <em>Annals of Applied Statistics</em> 7.1 (2013): 295-318. [Already in syllabus - foundational]</p></li>
<li><p><strong>FDA Guidance.</strong> “Adjusting for Covariates in Randomized Clinical Trials for Drugs and Biological Products.” (2023).</p>
<ul>
<li>Official regulatory guidance on covariate adjustment methods.</li>
</ul></li>
<li><p><strong>Wang, Bingkai, et al.</strong> “When does adjusting covariate under randomization help? A comparative study on current practices.” <em>BMC Medical Research Methodology</em> (2024).</p>
<ul>
<li>Compares ANOVA, ANCOVA, ANHECOVA, IPW, AIPW, and overlap weighting estimators.</li>
</ul></li>
<li><p><strong>Su, Fangzhou, and Peng Ding.</strong> Regression adjustment for cluster randomized experiments. (2021); <strong>Wang et al.</strong> (2024) extensions.</p>
<ul>
<li>Modern approaches to cluster-randomized trial analysis.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science-2" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-2">Applications (Political Science)</h3>
<ul>
<li>See applications from Week 2; cluster-randomized trials are common in voter mobilization studies.</li>
</ul>
<hr>
</section>
</section>
<section id="week-4-experiments---attrition-and-non-compliance" class="level2">
<h2 class="anchored" data-anchor-id="week-4-experiments---attrition-and-non-compliance">Week 4: Experiments - Attrition and Non-Compliance</h2>
<section id="methodology-3" class="level3">
<h3 class="anchored" data-anchor-id="methodology-3">Methodology</h3>
<ul>
<li><p><strong>Ghanem, Dalia, et al.</strong> “Testing for Attrition Bias in Randomized Experiments.” (2023).</p>
<ul>
<li>Develops formal tests for attrition bias in experiments.</li>
</ul></li>
<li><p><strong>Bai, Yuehao, et al.</strong> “Attrition in Matched Pair Experiments.” (2024).</p>
<ul>
<li>Revisits common approaches to attrition in matched-pair designs.</li>
</ul></li>
<li><p><strong>Park, Chanwool, and Hyunseung Kang.</strong> “Causal Inference with Noncompliance and Unknown Interference.” <em>Journal of the American Statistical Association</em> (2023).</p>
<ul>
<li>Handles non-compliance when network interference is unknown.</li>
</ul></li>
<li><p><strong>Bugni, Federico, and Wayne Gao.</strong> (2023); <strong>Ren</strong> (2023); <strong>Bai et al.</strong> (2023) - Multiple papers on LATE estimation under non-compliance.</p></li>
<li><p><strong>Choi, David.</strong> “Profiling compliers and noncompliers for instrumental variable analysis with covariates: A weighting approach.” (2023).</p></li>
</ul>
</section>
<section id="applications-political-science-3" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-3">Applications (Political Science)</h3>
<ul>
<li><strong>Generalizing causal effects with noncompliance: Application to deep canvassing experiments.</strong> arXiv (2025).
<ul>
<li>Applies IV approach to generalize from compliers to target populations.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="weeks-5-7-selection-on-observables-propensity-scores-matching" class="level2">
<h2 class="anchored" data-anchor-id="weeks-5-7-selection-on-observables-propensity-scores-matching">Weeks 5-7: Selection-on-Observables / Propensity Scores / Matching</h2>
<section id="methodology-4" class="level3">
<h3 class="anchored" data-anchor-id="methodology-4">Methodology</h3>
<ul>
<li><p><strong>Rosenman, Evan, et al.</strong> “Methods for Combining Observational and Experimental Causal Estimates: A Review.” <em>WIREs Computational Statistics</em> (2025).</p>
<ul>
<li>Reviews approaches for integrating RCT and observational data.</li>
</ul></li>
<li><p><strong>Yang, Shu, et al.</strong> “Integrative estimator” for pooling RCT and observational data. (2023).</p>
<ul>
<li>Novel test for violations of unconfoundedness and transportability.</li>
</ul></li>
<li><p><strong>Díaz, Iván, et al.</strong> “The Network Propensity Score.” arXiv (2022-2023).</p>
<ul>
<li>Extends propensity scores to settings with spillovers, homophily, and network formation.</li>
</ul></li>
<li><p><strong>King, Gary, and Richard Nielsen.</strong> “Why Propensity Scores Should Not Be Used for Matching.” <em>Political Analysis</em> (2019). [Important critique]</p></li>
<li><p><strong>MatchingFrontier Package.</strong> “Examining the Propensity Score Matching Paradox.” (2024).</p>
<ul>
<li>Demonstrates conditions under which PSM can increase bias.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science-4" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-4">Applications (Political Science)</h3>
<ul>
<li><p><strong>Studies in Political Science Research and Methods</strong> (August 2023) and <strong>Social Science Quarterly</strong> (January 2024) applying matching methods.</p></li>
<li><p><strong>“Schooling and Political Activism in the Early Civil Rights Era.”</strong> (January 2024).</p>
<ul>
<li>Uses propensity score methods to study education effects on participation.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="week-8-instrumental-variables" class="level2">
<h2 class="anchored" data-anchor-id="week-8-instrumental-variables">Week 8: Instrumental Variables</h2>
<section id="methodology-5" class="level3">
<h3 class="anchored" data-anchor-id="methodology-5">Methodology</h3>
<ul>
<li><strong>Lal, Apoorva, Mackenzie William Lockhart, Yiqing Xu, and Ziwen Zu.</strong> “How Much Should We Trust Instrumental Variable Estimates in Political Science? Practical Advice Based on 67 Replicated Studies.” <em>Political Analysis</em> (2024).
<ul>
<li><strong>Highly recommended</strong>: Comprehensive replication study finding that IV strength is often overestimated and uncertainty underestimated.</li>
</ul></li>
<li><strong>Cinelli, Carlos, and Chad Hazlett.</strong> “An Omitted Variable Bias Framework for Sensitivity Analysis of Instrumental Variables.” <em>Biometrika</em> (2024/2025).
<ul>
<li>Extends OVB sensitivity framework to IV designs.</li>
</ul></li>
<li><strong>Mellon, Jonathan.</strong> “Weather Instruments” critique (2023).
<ul>
<li>Examines vulnerability of weather-based instruments.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science-5" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-5">Applications (Political Science)</h3>
<ul>
<li>The Lal et al.&nbsp;(2024) paper provides extensive discussion of IV applications across political science, including voting, representation, and conflict studies.</li>
</ul>
<hr>
</section>
</section>
<section id="weeks-9-11-differences-in-differences-and-panel-data" class="level2">
<h2 class="anchored" data-anchor-id="weeks-9-11-differences-in-differences-and-panel-data">Weeks 9-11: Differences-in-Differences and Panel Data</h2>
<section id="methodology-6" class="level3">
<h3 class="anchored" data-anchor-id="methodology-6">Methodology</h3>
<ul>
<li><p><strong>Roth, Jonathan, Pedro H.C. Sant’Anna, Alyssa Bilinski, and John Poe.</strong> “What’s Trending in Difference-in-Differences? A Synthesis of the Recent Econometrics Literature.” <em>Journal of Econometrics</em> (2023). [Already in syllabus - essential]</p></li>
<li><p><strong>Baker, Andrew C., David F. Larcker, and Charles C.Y. Wang.</strong> “How Much Should We Trust Staggered Difference-in-Differences Estimates?” <em>Journal of Financial Economics</em> (2022).</p></li>
<li><p><strong>Wooldridge, Jeffrey M.</strong> “Two-Way Fixed Effects, the Two-Way Mundlak Regression, and Difference-in-Differences Estimators.” (2021, updated 2023).</p>
<ul>
<li>Heterogeneity-robust TWFE regressions; implemented in <code>wooldid</code> Stata package.</li>
</ul></li>
<li><p><strong>Callaway, Brantly, and Pedro H.C. Sant’Anna.</strong> “Difference-in-Differences with Multiple Time Periods.” <em>Journal of Econometrics</em> (2021).</p>
<ul>
<li>Group-time ATT estimators; <code>did</code> R package.</li>
</ul></li>
<li><p><strong>Sun, Liyang, and Sarah Abraham.</strong> “Estimating Dynamic Treatment Effects in Event Studies with Heterogeneous Treatment Effects.” <em>Journal of Econometrics</em> (2021).</p></li>
<li><p><strong>Borusyak, Kirill, Xavier Jaravel, and Jann Spiess.</strong> “Revisiting Event Study Designs: Robust and Efficient Estimation.” <em>Review of Economic Studies</em> (2024).</p>
<ul>
<li>Imputation-based approach to staggered DiD.</li>
</ul></li>
<li><p><strong>Liu, Licheng, Ye Wang, and Yiqing Xu.</strong> “A Practical Guide to Counterfactual Estimators for Causal Inference with Time-Series Cross-Sectional Data.” <em>American Journal of Political Science</em> (2024).</p></li>
<li><p><strong>Arkhangelsky, Dmitry, and Guido W. Imbens.</strong> “Causal Models for Longitudinal and Panel Data: A Survey.” arXiv (2023).</p>
<ul>
<li>Comprehensive survey of panel data methods including synthetic control.</li>
</ul></li>
<li><p><strong>“Difference-in-Differences Meets Synthetic Control: Doubly Robust Identification and Estimation.”</strong> arXiv (2025).</p>
<ul>
<li>Integrates DiD and synthetic control advantages.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science-6" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-6">Applications (Political Science)</h3>
<ul>
<li><p><strong>Hassell, Hans J. G., and John B. Holbein.</strong> “Navigating Potential Pitfalls in Difference-in-Differences Designs: Reconciling Conflicting Findings on Mass Shootings’ Effect on Electoral Outcomes.” <em>American Political Science Review</em> (2024).</p></li>
<li><p><strong>Loeffler.</strong> “Does a Universal Basic Income Affect Voter Turnout? Evidence from Alaska.” <em>Political Science Research and Methods</em> (2023).</p></li>
</ul>
<hr>
</section>
</section>
<section id="week-12-regression-discontinuity-designs" class="level2">
<h2 class="anchored" data-anchor-id="week-12-regression-discontinuity-designs">Week 12: Regression Discontinuity Designs</h2>
<section id="methodology-7" class="level3">
<h3 class="anchored" data-anchor-id="methodology-7">Methodology</h3>
<ul>
<li><strong>Cattaneo, Matias D., Nicolás Idrobo, and Rocío Titiunik.</strong> <em>A Practical Introduction to Regression Discontinuity Designs: Extensions.</em> Cambridge University Press (2024).
<ul>
<li><strong>Highly recommended</strong>: Second volume covering fuzzy RD, discrete scores, multi-dimensional RD, and local randomization framework.</li>
</ul></li>
<li><strong>Cattaneo, Idrobo, and Titiunik.</strong> RD Packages website: <a href="https://rdpackages.github.io">rdpackages.github.io</a>
<ul>
<li>Software for <code>rdrobust</code>, <code>rdhte</code>, <code>rdlocrand</code>, <code>rddensity</code>, <code>rdpower</code>.</li>
</ul></li>
<li><strong>Auerbach, Eric.</strong> “Regression Discontinuity Design with Spillovers.” arXiv (2024).
<ul>
<li>Extends RDD to settings with interference/spillovers.</li>
</ul></li>
<li><strong>“Dynamic Regression Discontinuity under Treatment Effect Heterogeneity.”</strong> <em>Quantitative Economics</em> (2024).
<ul>
<li>Extends RD to dynamic settings with repeated eligibility.</li>
</ul></li>
<li><strong>“Hierarchical Regression Discontinuity Design: Pursuing Subgroup Treatment Effects.”</strong> arXiv (2023).
<ul>
<li>Hierarchical Bayes approach for subgroup analysis in RDD.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science-7" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-7">Applications (Political Science)</h3>
<ul>
<li><p><strong>Marshall, John.</strong> “Can Close Election Regression Discontinuity Designs Identify Effects of Winning Politician Characteristics?” <em>American Journal of Political Science</em> (2024).</p>
<ul>
<li><strong>Highly recommended</strong>: Critical examination of politician characteristic RD designs.</li>
</ul></li>
<li><p><strong>Torres, Santiago.</strong> “Close Elections Regression Discontinuity Designs in Multi-seat Systems.” (2023).</p>
<ul>
<li>Extends RDD beyond single-member districts.</li>
</ul></li>
<li><p><strong>Archambault, Jerome, and Stanley L. Winer.</strong> “Political Competitiveness, Regression Discontinuity and the Incumbency Effect.” (2023).</p></li>
<li><p><strong>“The Role of Majority Status in Close Election Studies.”</strong> <em>Political Analysis</em> 32(1) (2024).</p>
<ul>
<li>Disentangles partisan effects from majority status effects in RD designs.</li>
</ul></li>
<li><p><strong>Hanretty, Chris.</strong> “How not to conduct a regression discontinuity design using a continuous measure of democracy.” <em>Party Politics</em> (2024).</p>
<ul>
<li>Methodological critique of misapplied RDD.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="week-13-mediation-and-sensitivity-analysis" class="level2">
<h2 class="anchored" data-anchor-id="week-13-mediation-and-sensitivity-analysis">Week 13: Mediation and Sensitivity Analysis</h2>
<section id="methodology-mediation" class="level3">
<h3 class="anchored" data-anchor-id="methodology-mediation">Methodology (Mediation)</h3>
<ul>
<li><strong>Practical causal mediation analysis: extending nonparametric estimators to accommodate multiple mediators and multiple intermediate confounders.</strong> <em>PMC</em> (2024).
<ul>
<li>Handles multiple mediators and post-exposure confounders.</li>
</ul></li>
<li><strong>“Causal Mediation Analysis for Integrating Exposure, Genomic, and Phenotype Data.”</strong> <em>PMC</em> (2024).
<ul>
<li>High-dimensional mediation analysis methods.</li>
</ul></li>
<li><strong>Kumar.</strong> “Poor economics and its missing mechanisms: The case for causal mediation.” <em>Review of Development Economics</em> (2024).</li>
</ul>
</section>
<section id="methodology-sensitivity-analysis" class="level3">
<h3 class="anchored" data-anchor-id="methodology-sensitivity-analysis">Methodology (Sensitivity Analysis)</h3>
<ul>
<li><p><strong>Cinelli, Carlos, and Chad Hazlett.</strong> “Making sense of sensitivity: Extending omitted variable bias.” <em>JRSS-B</em> (2020). [Already in syllabus - foundational]</p></li>
<li><p><strong>Cinelli, Carlos, and Chad Hazlett.</strong> “An Omitted Variable Bias Framework for Sensitivity Analysis of Instrumental Variables.” <em>Biometrika</em> (2024/2025).</p>
<ul>
<li>Extends OVB framework to IV settings.</li>
</ul></li>
<li><p><strong>Masten, Matthew A., Alexandre Poirier, and Linqi Zhang.</strong> “Assessing Sensitivity to Unconfoundedness: Estimation and Inference.” <em>Journal of Business &amp; Economic Statistics</em> (January 2024).</p></li>
<li><p><strong>“Long Story Short: Omitted Variable Bias in Causal Machine Learning.”</strong> arXiv (updated May 2024).</p>
<ul>
<li>Extends sensitivity analysis to ML methods.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science-8" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-8">Applications (Political Science)</h3>
<ul>
<li><strong>“Comparative Causal Mediation and Relaxing the Assumption of No Mediator–Outcome Confounding: An Application to International Law and Audience Costs.”</strong> <em>Political Analysis</em> (2024).
<ul>
<li>Novel comparative causal mediation estimands for multiple treatments.</li>
</ul></li>
<li><strong>Fabbe, Hazlett, and Sinmazdemir.</strong> “Threat perceptions, loyalties and attitudes towards peace: The effects of civilian victimization among Syrian refugees in Turkey.” <em>Conflict Management and Peace Science</em> (2024).
<ul>
<li>Applied sensitivity analysis in conflict studies.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="week-14-shift-share-designs-and-experiments-with-interference" class="level2">
<h2 class="anchored" data-anchor-id="week-14-shift-share-designs-and-experiments-with-interference">Week 14: Shift-Share Designs and Experiments with Interference</h2>
<section id="methodology-shift-sharebartik-instruments" class="level3">
<h3 class="anchored" data-anchor-id="methodology-shift-sharebartik-instruments">Methodology (Shift-Share/Bartik Instruments)</h3>
<ul>
<li><strong>Borusyak, Kirill, Peter Hull, and Xavier Jaravel.</strong> “Quasi-Experimental Shift-Share Research Designs.” <em>Review of Economic Studies</em> 89(1) (2022): 181-213.
<ul>
<li><strong>Essential</strong>: Shock-based identification framework for shift-share IV.</li>
</ul></li>
<li><strong>Goldsmith-Pinkham, Paul, Isaac Sorkin, and Henry Swift.</strong> “Bartik Instruments: What, When, Why, and How.” <em>American Economic Review</em> 110(8) (2020): 2586-2624.
<ul>
<li><strong>Essential</strong>: Shares-based identification framework.</li>
</ul></li>
<li><strong>Borusyak, Kirill, Peter Hull, and Xavier Jaravel.</strong> “A Practical Guide to Shift-Share Instruments.” NBER Working Paper 33236 (2024/2025).
<ul>
<li><strong>Highly recommended</strong>: Updated practical guidance synthesizing recent developments.</li>
</ul></li>
</ul>
</section>
<section id="methodology-interferencespillovers" class="level3">
<h3 class="anchored" data-anchor-id="methodology-interferencespillovers">Methodology (Interference/Spillovers)</h3>
<ul>
<li><p><strong>Sävje, Fredrik.</strong> “Causal inference with misspecified exposure mappings: separating definitions and assumptions.” <em>Biometrika</em> (2024).</p></li>
<li><p><strong>Egami, Naoki.</strong> “Identification of causal diffusion effects using placebo outcomes under structural stationarity.” <em>Journal of the Royal Statistical Society</em> (2024).</p></li>
<li><p><strong>Chao, Spiegelman, Buchanan, and Forastiere.</strong> “Estimation and inference for causal spillover effects in egocentric-network randomized trials in the presence of network membership misclassification.” <em>Biostatistics</em> (2024).</p></li>
<li><p><strong>Leung, Michael P.</strong> (2022); <strong>Viviano et al.</strong> (2023) - Papers on approximate neighborhood interference (ANI).</p></li>
<li><p><strong>“Network Synthetic Interventions: A Causal Framework for Panel Data Under Network Interference.”</strong> arXiv (2023).</p>
<ul>
<li>Synthetic control with network interference.</li>
</ul></li>
</ul>
</section>
<section id="applications-political-science-9" class="level3">
<h3 class="anchored" data-anchor-id="applications-political-science-9">Applications (Political Science)</h3>
<ul>
<li><p><strong>Sinclair, Betsy, et al.</strong> “Detecting Spillover Effects: Design and Analysis of Multilevel Experiments.” <em>American Journal of Political Science</em> (2012). [Foundational]</p></li>
<li><p><strong>“Spillover Effects in Experimental Data.”</strong> Chapter 16 in <em>Advances in Experimental Political Science</em> (Cambridge, 2021).</p></li>
<li><p><strong>“Spillover Effects in the Presence of Unobserved Networks.”</strong> <em>Political Analysis</em>.</p></li>
<li><p><strong>Fyfe and Desmarais.</strong> “Causal Evidence for Theories of Contagious Civil Unrest.” <em>International Studies Quarterly</em> (2024).</p></li>
<li><p><strong>Cruces, Tortarolo, and Vazquez-Bare.</strong> “Design of Partial Population Experiments with an Application to Spillovers in Tax Compliance.” IZA Discussion Paper (2024).</p></li>
</ul>
<hr>
</section>
</section>
<section id="additional-cross-cutting-resources" class="level2">
<h2 class="anchored" data-anchor-id="additional-cross-cutting-resources">Additional Cross-Cutting Resources</h2>
<section id="textbooks-and-general-references" class="level3">
<h3 class="anchored" data-anchor-id="textbooks-and-general-references">Textbooks and General References</h3>
<ul>
<li><p><strong>Cunningham, Scott.</strong> <em>Causal Inference: The Mixtape.</em> Yale University Press (2021). [Free online]</p></li>
<li><p><strong>Huntington-Klein, Nick.</strong> <em>The Effect: An Introduction to Research Design and Causality.</em> Chapman and Hall/CRC (2021). [Free online]</p></li>
<li><p><strong>Angrist, Joshua D., and Jörn-Steffen Pischke.</strong> <em>Mastering ’Metrics: The Path from Cause to Effect.</em> Princeton University Press (2014).</p></li>
</ul>
</section>
<section id="software-and-replication" class="level3">
<h3 class="anchored" data-anchor-id="software-and-replication">Software and Replication</h3>
<ul>
<li><strong>RD Packages</strong>: <a href="https://rdpackages.github.io">rdpackages.github.io</a></li>
<li><strong>did Package (R)</strong>: Callaway-Sant’Anna estimators</li>
<li><strong>wooldid (Stata)</strong>: Wooldridge’s heterogeneity-robust TWFE</li>
<li><strong>sensemakr (R)</strong>: Cinelli-Hazlett sensitivity analysis</li>
</ul>
<hr>
<p><em>Last updated: January 2026</em></p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/astrezhnev\.github\.io\/ps813\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Licensed under a <i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> <i class="fa-brands fa-creative-commons-by" aria-label="creative-commons-by"></i> <i class="fa-brands fa-creative-commons-nc" aria-label="creative-commons-nc"></i> <a href="https://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License (CC BY-NC 4.0)</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Made with <a href="https://quarto.org/">Quarto</a> | <a href="https://github.com/astrezhnev/ps813/issues">Report an Issue</a></p>
</div>
  </div>
</footer>




</body></html>